#!/usr/bin/python3
import argparse
import subprocess
from argparse import Namespace

parser = argparse.ArgumentParser(description="控制音量的簡單命令行")
parser.add_argument("--raise-volume", action="store_true", help="提高音量2%")
parser.add_argument("--lower-volume", action="store_true", help="降低音量2%")
parser.add_argument("--toggle-mute", action="store_true", help="開啟或關閉靜音")

commands = ["pactl"]

args = parser.parse_args()
match args:
    case Namespace(lower_volume=True):
        commands.extend(["set-sink-volume", "0", "-2%"])
    case Namespace(raise_volume=True):
        commands.extend(["set-sink-volume", "0", "+2%"])
    case Namespace(toggle_mute=True):
        commands.extend(["set-sink-mute", "0", "toggle"])
    case _:
        parser.print_usage()

if len(commands) > 1:
    subprocess.call(commands)
