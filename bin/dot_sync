#!/bin/bash

DOTFILES=$HOME/Desktop/dotfiles
FIREFOX=("$HOME/.mozilla/firefox/*.default-release")

cp -rf "$HOME/.config/eww" \
	"$HOME/.config/hypr" \
	"$HOME/.config/zathura" \
	"$HOME/.config/alacritty" \
	"$HOME/.config/dunst" \
	"$HOME/.config/fish" \
	"$HOME/.config/image" \
	"$HOME/.local/bin/" \
	"$DOTFILES"

cp -rf "$FIREFOX/chrome" \
	"$FIREFOX/user.js" \
	"$DOTFILES/firefox"

cd "$DOTFILES" || exit
CHANGES_EXIST="$(git status --porcelain | wc -l)"

if [[ "$CHANGES_EXIST" -eq 0 ]]; then
	exit 0
fi

git pull
git add .
git commit -q -m "Last Sync: $(date +"%Y-%m-%d %H:%M:%S")"
git push -q
